!function(t){t.fn.staffGallery=function(i){var a={bigPrevId:"J_staff-bigPrev",bigNextId:"J_staff-bigNext",bigPicTitId:"J_staff-bigPicTit",bigPicTxtId:"J_staff-bigPicTxt",smallListWrapId:"J_staff-smallListWrap",containerId:"J_staff-conBox"};t.fn.staffGallery.defaults={smallPrevId:"J_staff-smallPrev",smallNextId:"J_staff-smallNext",smallListInnerId:"J_staff-smallListInner",smallDisPrevClass:"staff-dis-smallPrev",smallDisNextClass:"staff-dis-smallNext",smallDataClass:"staff-smallItem",smallWrapId:"J_staff-smallWrap",bigPicTitClass:"staff-bigPicTit",arrowId:"J_staff-arrow",bigPicWrapId:"J_staff-bigWrap",bigPrevClass:"staff-bigPrev",bigNextClass:"staff-bigNext",bigPicWrapW:666,bigPicWrapH:483,fixLen:4,viewLen:6,arrowH:50,scroW:103,dir:"left",isTitShow:!0,isBigBtnShow:!0};var s=t.extend(a,t.fn.staffGallery.defaults,i),e=0,l=t("#"+s.smallPrevId),n=t("#"+s.smallNextId),r=t("#"+s.containerId),o=t("#"+s.smallListInnerId),f=t("#"+s.arrowId),c=t("#"+s.bigPicWrapId);$smallListWrap=t("#"+s.smallListWrapId),$smallWrap=t("#"+s.smallWrapId);var d=s.viewLen-s.fixLen,p=o.find("."+s.smallDataClass);totalLen=p.length;var m,W,L,g,v,L,b,h=this,P=function(i){m=p.eq(i).attr("href"),W=p.eq(i).attr("data-title"),h.stop(!1,!0).fadeOut(200,function(){h.attr("src",m).fadeIn()}),s.isTitShow&&L.animate({top:s.bigPicWrapH},200,function(){""!=t.trim(W)?(b.text(W),L.show()):L.hide(),L.stop(!1,!0).animate({top:s.bigPicWrapH-s.arrowH})})},w=function(){if("left"==s.dir&&$smallWrap.css({width:s.bigPicWrapW,overflow:"hidden"}),h.parent().css({width:s.bigPicWrapW-2,height:s.bigPicWrapH-2,overflow:"hidden"}),1==totalLen&&$smallWrap.hide(),c.css({width:s.bigPicWrapW,height:s.bigPicWrapH,position:"relative"}),m=p.eq(e).attr("href"),W=p.eq(e).attr("data-title"),h.attr("src",m),s.isTitShow){var i=t('<div class="'+s.bigPicTitClass+'" id="'+s.bigPicTitId+'"><span></span><b id="'+s.bigPicTxtId+'"></b></div>');i.appendTo(c),L=t("#"+s.bigPicTitId),b=t("#"+s.bigPicTxtId),L.css({top:s.bigPicWrapH-s.arrowH}).hide(),P(e)}if(s.isBigBtnShow){var a=t("<a href='#' class='"+s.bigPrevClass+"' id='"+s.bigPrevId+"'></a>"),n=t("<a href='#' class='"+s.bigNextClass+"' id='"+s.bigNextId+"'></a>");a.appendTo(r),n.appendTo(r)}l.eq(e).addClass(s.smallDisPrevClass),totalLen<=s.viewLen||("left"==s.dir?o.width(totalLen*s.scroW):o.height(totalLen*s.scroW)),o.css({position:"absolute",overflow:"hidden"}),"left"==s.dir?$smallListWrap.css({width:s.viewLen*s.scroW,position:"relative",overflow:"hidden"}):$smallListWrap.css({height:s.viewLen*s.scroW,position:"relative",overflow:"hidden"})};w();var x=function(t,i){"left"==i?totalLen<s.viewLen?(f.stop(!1,!0).animate({left:t*s.scroW},200),o.animate({left:0*s.scroW})):t>=0&&t<=s.fixLen-1?(f.stop(!1,!0).animate({left:t*s.scroW},200),o.animate({left:0*s.scroW})):t>s.fixLen-1&&t<totalLen-d?(f.stop(!1,!0).animate({left:(s.fixLen-1)*s.scroW},200),o.animate({left:-(t-s.fixLen+1)*s.scroW})):t>=totalLen-d&&(f.stop(!1,!0).animate({left:(s.viewLen-(totalLen-t))*s.scroW},200),o.animate({left:-(totalLen-s.viewLen)*s.scroW})):"top"==i&&(totalLen<s.viewLen?(f.stop(!1,!0).animate({top:t*s.scroW},200),o.animate({left:0*s.scroW})):t>=0&&t<=s.fixLen-1?(f.stop(!1,!0).animate({top:t*s.scroW},200),o.animate({top:0*s.scroW})):t>s.fixLen-1&&t<totalLen-d?(f.stop(!1,!0).animate({top:(s.fixLen-1)*s.scroW},200),o.animate({top:-(t-s.fixLen+1)*s.scroW})):t>=totalLen-d&&(f.stop(!1,!0).animate({top:(s.viewLen-(totalLen-t))*s.scroW},200),o.animate({top:-(totalLen-s.viewLen)*s.scroW})))},I=function(t){t!=totalLen-1&&n.removeClass(s.smallDisNextClass),0==t&&l.addClass(s.smallDisPrevClass),x(e,s.dir),P(e)},C=function(t){0!=e&&l.removeClass(s.smallDisPrevClass),e==totalLen-1&&n.addClass(s.smallDisNextClass),e<=s.fixLen-1?"left"==s.dir?f.stop(!1,!0).animate({left:"+="+s.scroW},200):f.stop(!1,!0).animate({top:"+="+s.scroW},200):totalLen-e-d<=0?"left"==s.dir?f.stop(!1,!0).animate({left:"+="+s.scroW},200):f.stop(!1,!0).animate({top:"+="+s.scroW},200):"left"==s.dir?o.animate({left:-(e-s.fixLen+1)*s.scroW}):o.animate({top:-(e-s.fixLen+1)*s.scroW}),P(e)};if(l.bind("click",function(){return 0!=e&&(e--,I(e),!1)}),n.bind("click",function(){return e!=totalLen-1&&(e++,C(e),!1)}),p.each(function(){t(this).bind("click",function(){var t=e;e=p.index(this),0==e&&l.addClass(s.smallDisPrevClass),e==totalLen-1&&n.addClass(s.smallDisNextClass),0!=e&&l.removeClass(s.smallDisPrevClass),e!=totalLen-1&&n.removeClass(s.smallDisNextClass);Math.abs(t-e);return P(e),x(e,s.dir),!1})}),s.isBigBtnShow&&1!=totalLen){g=t("#"+s.bigNextId);var u=g.height();v=t("#"+s.bigPrevId);var T=v.height();g.css("top",(s.bigPicWrapH-u)/2),v.css("top",(s.bigPicWrapH-T)/2),g.bind("click",function(){return e++,0!=e&&v.show(),e==totalLen-1&&t(this).hide(),C(e),!1}),v.bind("click",function(){return e--,e!=totalLen-1&&g.show(),0==e&&t(this).hide(),I(e),!1})}}}(jQuery),$(function(){$("#J_staff-bigPic").staffGallery({fixLen:5,isTitShow:!0,isBigBtnShow:!0,bigPicWrapW:930,bigPicWrapH:500,viewLen:6,scroW:144,dir:"left"})});